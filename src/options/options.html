<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Webpage to Markdown - Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <h1>Settings</h1>

    <section>
      <h2>Translation Settings</h2>

      <div class="form-group">
        <label>
          <input type="checkbox" id="enable-translation">
          Enable translation feature
        </label>
        <p class="help-text">
          Turn on to enable AI-powered translation from any language to Japanese.
        </p>
      </div>

      <div class="form-group">
        <label for="translation-provider">Translation Provider:</label>
        <select id="translation-provider">
          <option value="anthropic">Anthropic (Claude)</option>
          <option value="gemini">Google Gemini (Free)</option>
        </select>
        <p class="help-text">Select the AI provider for translation. Gemini offers a free tier.</p>
      </div>

      <div class="form-group">
        <label for="api-key">Anthropic API Key:</label>
        <input type="password" id="api-key" placeholder="sk-ant-...">
        <button id="show-key-btn">Show</button>
      </div>
      <p class="help-text">
        Get your API key from <a href="https://console.anthropic.com/" target="_blank">Anthropic Console</a>
      </p>

      <div class="form-group">
        <label for="translation-model">Anthropic Model:</label>
        <select id="translation-model">
          <option value="claude-haiku-4-5-20251001">Claude Haiku 4.5 (Default - Fast &amp; Economical)</option>
          <option value="claude-sonnet-4-5-20250929">Claude Sonnet 4.5 (Balanced)</option>
          <option value="claude-opus-4-6">Claude Opus 4.6 (Most Capable)</option>
        </select>
        <p class="help-text">Select the AI model for translation. Haiku 4.5 is recommended for most use cases.</p>
      </div>

      <div class="form-group">
        <label for="gemini-api-key">Gemini API Key:</label>
        <input type="password" id="gemini-api-key" placeholder="AIza...">
        <button id="show-gemini-key-btn">Show</button>
      </div>
      <p class="help-text">
        Get your free API key from <a href="https://aistudio.google.com/apikey" target="_blank">Google AI Studio</a>
      </p>

      <div class="form-group">
        <label for="gemini-model">Gemini Model:</label>
        <select id="gemini-model">
          <option value="gemini-2.0-flash">Gemini 2.0 Flash (Default - Fast &amp; Free)</option>
          <option value="gemini-1.5-flash">Gemini 1.5 Flash (Stable &amp; Free)</option>
          <option value="gemini-1.5-flash-8b">Gemini 1.5 Flash 8B (Lightweight &amp; Free)</option>
          <option value="gemini-1.5-pro">Gemini 1.5 Pro (High Quality)</option>
        </select>
        <p class="help-text">All models above support the free tier. 2.0 Flash is recommended.</p>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" id="preserve-original">
          Always keep original text (recommended)
        </label>
        <p class="help-text">
          Saves both original and translated versions. You can switch between them in the UI.
        </p>
      </div>

      <div class="form-group">
        <label for="translation-prompt">Custom Translation Prompt:</label>
        <textarea id="translation-prompt" rows="12" placeholder="Enter your custom prompt here..."></textarea>
        <div class="prompt-actions">
          <button id="reset-prompt-btn">Reset to Default</button>
          <button id="preview-prompt-btn">Preview</button>
        </div>
      </div>
      <p class="help-text">
        Use <code>{content}</code> as a placeholder for the text to be translated.
        The system will replace it with the actual Markdown content.
      </p>
    </section>

    <section>
      <h2>Export Settings</h2>
      <div class="form-group">
        <label>
          <input type="checkbox" id="include-metadata">
          Include metadata.json in exports
        </label>
      </div>
      <div class="form-group">
        <label>
          <input type="checkbox" id="auto-translate">
          Auto-translate after extraction
        </label>
        <p class="help-text">
          Automatically translates content after extracting from webpage.
          Requires translation feature to be enabled.
        </p>
      </div>
    </section>

    <section>
      <h2>Image Settings</h2>
      <div class="form-group">
        <label>
          <input type="checkbox" id="download-images">
          Enable Image Download
        </label>
        <p class="help-text">
          Download and store images for offline viewing.
          <strong>Note:</strong> Downloaded images are for personal use only.
          Please respect copyright and terms of service of the original content.
        </p>
      </div>
    </section>

    <div class="actions">
      <button id="save-btn" class="primary">Save Settings</button>
      <button id="clear-data-btn" class="danger">Clear All Data</button>
    </div>

    <div id="status"></div>
  </div>

  <script src="options.js"></script>
</body>
</html>
